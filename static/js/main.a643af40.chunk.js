(this["webpackJsonpquick-lyrics"]=this["webpackJsonpquick-lyrics"]||[]).push([[0],{165:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(58),a=c.n(n),s=(c(66),c(4)),o=c.n(s),i=c(27),l=c(7),b=c(59),d=c.n(b),u=c(18),h=c.n(u).a.create({baseURL:"https://api.giphy.com/v1/gifs",params:{api_key:"Ww3O0TkvV9U52Ljt9rh45b7yzagjzGyH"}}),j=c(60),p=c(61),f=c(0),g=function(e){var t=e.currentTrack,c=Object(r.useState)("LOADING"),n=Object(l.a)(c,2),a=n[0],s=n[1],o=t.item,i=o.name,b=o.artists;return Object(r.useEffect)((function(){var e={apiKey:"O8ztO58Z-f9A2FZ1a2g-eTf9UN-Jy50I_yUX49zsm5jsAFe-f4D_PLPVeQQLj8ZQ",title:i,artist:b[0].name,optimizeQuery:!0};Object(p.getLyrics)(e).then((function(e){s(e)}))}),[t]),null===a?Object(f.jsx)("p",{children:"NO LYRICS AVAILABLE"}):Object(f.jsx)("pre",{children:a})},m=function(e){var t=e.spotifyInstance,c=e.currentTrack,r=c.item,n=r.name,a=r.artists,s=c.item.album,o=s.name,i=s.images;return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"rounded",alt:o,src:i[0].url}),Object(f.jsxs)("div",{children:[n,Object(f.jsx)("br",{}),a.map((function(e,t){return t+1!==a.length?"".concat(e.name,", "):"".concat(e.name)})),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"flex flex-auto",children:[Object(f.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 border border-gray-700 rounded",onClick:function(){t.skipToPrevious((function(e,t){e&&console.error(e)}))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-skip-backward-circle-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})})}),Object(f.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 border border-red-700 rounded",onClick:function(){t.pause((function(e,t){e&&console.error(e)}))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-pause-circle-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})})}),Object(f.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 border border-gray-700 rounded",onClick:function(){t.seek(0,(function(e,t){e&&console.error(e)}))},children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16",children:[Object(f.jsx)("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),Object(f.jsx)("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})]})}),Object(f.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border border-blue-700 rounded",onClick:function(){t.play((function(e,t){e&&console.error(e)}))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-play-circle-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})})}),Object(f.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 border border-gray-700 rounded",onClick:function(){t.skipToNext((function(e,t){e&&console.error(e)}))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-skip-forward-circle-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})})})]})]}),Object(f.jsxs)("div",{className:"text-sm mt-2",children:[Object(f.jsx)("p",{className:"font-bold",children:"How to Use:"}),Object(f.jsxs)("p",{children:["Use the above controls or select a song directly from the Spotify app to get the corresponding lyrics",Object(f.jsx)("br",{}),"from Genius (lyrics may be inaccurate/missing for more obscure songs).*"]}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:"*Please wait a minimum of 10 seconds for song/lyrics to reflect new song (Polling rate: once per 10s)."})]})]})},x=function(){var e=new d.a,t="c48609e4b0c44cd9b339f8313790dcdc",c="http://localhost:3000/",n=Math.random().toString(20).substr(2,16),a="https://accounts.spotify.com/authorize?client_id=".concat(t,"&scope=").concat("user-read-playback-state user-modify-playback-state user-read-currently-playing app-remote-control streaming","&redirect_uri=").concat(c,"&state=").concat(n,"&response_type=").concat("code"),s=window.location.search,b=new URLSearchParams(s).get("code"),u=Object(r.useState)(null),p=Object(l.a)(u,2),x=p[0],O=p[1],v=Object(r.useState)(null),w=Object(l.a)(v,2),y=w[0],k=w[1],N=Object(r.useState)(!1),z=Object(l.a)(N,2),A=z[0],L=z[1],C=Object(r.useState)(null),M=Object(l.a)(C,2),S=M[0],T=M[1],_=function(){var r=Object(i.a)(o.a.mark((function r(){var n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.post("/api/token","grant_type=authorization_code&code=".concat(b,"&redirect_uri=").concat(c,"&client_id=").concat(t,"&client_secret=").concat("68562841c097490aa23eb79873c4d8b5"));case 2:n=r.sent,e.setAccessToken(n.data.access_token),O(e),a=function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.getMyCurrentPlayingTrack((function(e,r){e?console.error(e):r&&null!==r.item.id?(L(!0),""===c?(k(r),t(r.item.id)):setTimeout((function(){c!==r.item.id?(k(r),t(r.item.id)):t(r.item.id)}),1e4)):L(!1)}))},a();case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();Object(r.useEffect)((function(){null!==b&&_()}),[]);var I=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/search",{params:{q:"anime aesthetic"}});case 2:t=e.sent,T(t.data.data[Math.floor(50*Math.random())].images.original.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){I()}),[y]),null===b?Object(f.jsx)("div",{className:"flex h-screen",children:Object(f.jsx)("a",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded m-auto",href:a,children:"Sign In"})}):A?y?Object(f.jsx)("div",{className:"text-white bg-cover bg-center",style:{backgroundImage:"url(".concat(S,")")},children:Object(f.jsxs)("div",{className:"flex relative bg-gray-800 bg-opacity-60",children:[Object(f.jsx)("aside",{className:"h-screen sticky top-0 pl-24 pt-8 md:pr-24 sm:pr-12",children:Object(f.jsx)(m,{spotifyInstance:x,currentTrack:y})}),Object(f.jsx)("main",{className:"m-auto",children:Object(f.jsx)(g,{currentTrack:y})})]})}):Object(f.jsx)("div",{className:"flex h-screen",children:Object(f.jsx)("div",{className:"m-auto",children:"LOADING"})}):Object(f.jsx)("div",{className:"text-white flex h-screen",children:Object(f.jsxs)("div",{className:"m-auto",children:["Open Spotify App, Play a Song, then"," ",Object(f.jsx)("a",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",href:c,children:"Log Back In"})]})})};a.a.render(Object(f.jsx)(x,{}),document.querySelector("#root"))},60:function(e,t,c){"use strict";(function(e){var r=c(18),n=c.n(r);t.a=n.a.create({baseURL:"https://accounts.spotify.com",headers:{Authorization:"Basic "+e.from("c48609e4b0c44cd9b339f8313790dcdc:68562841c097490aa23eb79873c4d8b5").toString("base64"),"Content-Type":"application/x-www-form-urlencoded"}})}).call(this,c(85).Buffer)},66:function(e,t,c){}},[[165,1,2]]]);
//# sourceMappingURL=main.a643af40.chunk.js.map